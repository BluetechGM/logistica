{
  "animateLoading": true,
  "borderColor": "transparent",
  "borderOpacity": "0",
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": "0",
  "bottomRow": 61,
  "boxShadow": "none",
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "srcDoc"
    }
  ],
  "dynamicTriggerPathList": [],
  "flexVerticalAlignment": "start",
  "isLoading": false,
  "isVisible": true,
  "key": "m0qffh37uz",
  "leftColumn": 0,
  "mobileBottomRow": 52,
  "mobileLeftColumn": 0,
  "mobileRightColumn": 15,
  "mobileTopRow": 20,
  "needsErrorInfo": false,
  "parentColumnSpace": 17.957653808593747,
  "parentId": "2esdklewhr",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 48,
  "source": "https://www.example.com",
  "srcDoc": "<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Or√ßamento Detalhado - Produtos -  </title>\n    \n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background-color: #f5f5f5;\n            padding: 20px;\n        }\n\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background: white;\n            border-radius: 8px;\n            padding: 25px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n\n        /* Se√ß√£o de Produtos */\n        .produtos-section {\n            background: #e8f4fd;\n            padding: 20px;\n            border-radius: 8px;\n            border-left: 4px solid #348EB6;\n            margin-bottom: 20px;\n        }\n\n        .produtos-section h3 {\n            color: #155A87;\n            font-size: 16px;\n            font-weight: 600;\n            margin-bottom: 10px;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n\n        .produtos-section p {\n            color: #424242;\n            font-size: 14px;\n            line-height: 1.6;\n            margin-bottom: 8px;\n        }\n\n        /* Resumo de Valores */\n        .valor-info {\n            display: flex;\n            gap: 15px;\n            margin-top: 15px;\n            flex-wrap: wrap;\n        }\n\n        .valor-item {\n            background: white;\n            padding: 10px 15px;\n            border-radius: 6px;\n            border: 1px solid #e0e0e0;\n            text-align: center;\n            min-width: 110px;\n        }\n\n        .valor-item .label {\n            font-size: 11px;\n            color: #666;\n            font-weight: 500;\n            margin-bottom: 4px;\n        }\n\n        .valor-item .value {\n            font-size: 15px;\n            color: #155A87;\n            font-weight: bold;\n        }\n\n        /* Se√ß√£o de Tabela */\n        .produtos-detalhados {\n            margin-top: 20px;\n            padding-top: 15px;\n            border-top: 1px solid #e0e0e0;\n        }\n\n        .produtos-detalhados h4 {\n            color: #155A87;\n            font-size: 16px;\n            font-weight: 600;\n            margin-bottom: 15px;\n            text-align: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n        }\n\n        /* Tabela de Produtos */\n        .tabela-orcamento {\n            width: 100%;\n            border-collapse: collapse;\n            background: white;\n            border-radius: 8px;\n            overflow: hidden;\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .tabela-orcamento thead {\n            background: linear-gradient(135deg, #155A87, #348EB6);\n            color: white;\n        }\n\n        .tabela-orcamento th {\n            padding: 12px 8px;\n            text-align: left;\n            font-weight: 600;\n            font-size: 12px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n        }\n\n        .tabela-orcamento th:nth-child(4),\n        .tabela-orcamento th:nth-child(7) {\n            text-align: center;\n        }\n\n        .tabela-orcamento th:nth-child(5),\n        .tabela-orcamento th:nth-child(6) {\n            text-align: right;\n        }\n\n        .tabela-orcamento td {\n            padding: 10px 8px;\n            border-bottom: 1px solid #f0f0f0;\n            font-size: 13px;\n            vertical-align: middle;\n        }\n\n        .tabela-orcamento tbody tr:hover {\n            background-color: #f8f9fa;\n        }\n\n        .tabela-orcamento tbody tr:last-child td {\n            border-bottom: none;\n        }\n\n        /* Colunas espec√≠ficas */\n        .produto-id {\n            font-weight: bold;\n            color: #155A87;\n            font-size: 11px;\n        }\n\n        .produto-nome {\n            font-weight: 600;\n            color: #333;\n        }\n\n        .produto-marca {\n            background: #f0f0f0;\n            padding: 2px 8px;\n            border-radius: 6px;\n            font-size: 11px;\n            color: #666;\n            display: inline-block;\n        }\n\n        .produto-quantidade {\n            text-align: center;\n            font-weight: 600;\n            color: #333;\n        }\n\n        .produto-preco-unitario,\n        .produto-preco-total {\n            text-align: right;\n            font-weight: 600;\n        }\n\n        .produto-preco-total {\n            color: #2E7D32;\n            font-weight: bold;\n        }\n\n        .produto-status {\n            text-align: center;\n        }\n\n        .status-badge {\n            padding: 3px 8px;\n            border-radius: 4px;\n            font-size: 11px;\n            font-weight: 600;\n            display: inline-block;\n        }\n\n        .status-ok {\n            background: #E8F5E8;\n            color: #2E7D32;\n        }\n\n        .status-divergencia {\n            background: #FFEBEE;\n            color: #D32F2F;\n        }\n\n        .produto-observacoes {\n            font-size: 11px;\n            color: #666;\n            font-style: italic;\n        }\n\n        /* Totalizadores */\n        .tabela-totais {\n            margin-top: 15px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            padding: 15px;\n        }\n\n        .linha-total {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 8px;\n            font-size: 14px;\n        }\n\n        .linha-total:last-child {\n            margin-bottom: 0;\n            padding-top: 10px;\n            border-top: 2px solid #155A87;\n            font-weight: bold;\n            font-size: 16px;\n            color: #155A87;\n        }\n\n        .label-total {\n            font-weight: 600;\n            color: #333;\n        }\n\n        .valor-total {\n            font-weight: bold;\n            color: #2E7D32;\n        }\n\n        /* Responsivo */\n        @media (max-width: 768px) {\n            .tabela-orcamento {\n                font-size: 11px;\n            }\n\n            .tabela-orcamento th,\n            .tabela-orcamento td {\n                padding: 8px 4px;\n            }\n\n            .valor-info {\n                justify-content: center;\n            }\n\n            .valor-item {\n                min-width: 100px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <!-- Se√ß√£o de Produtos -->\n        <div class=\"produtos-section\">\n            <h3>üì¶ Produtos - Status Atual: {{mfs_list.selectedItem.status}}</h3>\n            <p><strong>Lista:</strong> <span id=\"lista-produtos\"></span></p>\n            <p><strong>Marcas:</strong> <span id=\"lista-marcas\"></span></p>\n\n            <!-- Resumo de Valores -->\n            <div class=\"valor-info\">\n                <div class=\"valor-item\">\n                    <div class=\"label\">Quantidade</div>\n                    <div class=\"value\" id=\"qtd-produtos\"></div>\n                </div>\n                <div class=\"valor-item\">\n                    <div class=\"label\">Valor Total</div>\n                    <div class=\"value\" id=\"valor-total\"></div>\n                </div>\n                <div class=\"valor-item\">\n                    <div class=\"label\">Valor M√©dio</div>\n                    <div class=\"value\" id=\"valor-medio\"></div>\n                </div>\n                <div class=\"valor-item\">\n                    <div class=\"label\">Menor Pre√ßo</div>\n                    <div class=\"value\" id=\"menor-preco\"></div>\n                </div>\n                <div class=\"valor-item\">\n                    <div class=\"label\">Maior Pre√ßo</div>\n                    <div class=\"value\" id=\"maior-preco\"></div>\n                </div>\n            </div>\n\n            <!-- Tabela de Produtos Detalhada -->\n            <div class=\"produtos-detalhados\">\n                <h4>üìã Or√ßamento Detalhado</h4>\n                \n                <table class=\"tabela-orcamento\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Produto</th>\n                            <th>Marca</th>\n                            <th>Qtd</th>\n                            <th>Pre√ßo Unit.</th>\n                            <th>Total</th>\n                            <th>Status</th>\n                            <th>Observa√ß√µes</th>\n                        </tr>\n                    </thead>\n                    <tbody id=\"tbody-produtos\">\n                        <!-- Produtos ser√£o inseridos aqui -->\n                    </tbody>\n                </table>\n\n                <!-- Totalizadores -->\n                <div class=\"tabela-totais\">\n                    <div class=\"linha-total\">\n                        <span class=\"label-total\">Total de Produtos:</span>\n                        <span class=\"valor-total\" id=\"total-produtos\"></span>\n                    </div>\n                    <div class=\"linha-total\">\n                        <span class=\"label-total\">Total de Itens:</span>\n                        <span class=\"valor-total\" id=\"total-itens\"></span>\n                    </div>\n                    <div class=\"linha-total\">\n                        <span class=\"label-total\">Valor Total do Or√ßamento:</span>\n                        <span class=\"valor-total\" id=\"orcamento-total\"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // Fun√ß√£o para formatar moeda\n        function formatarMoeda(valor) {\n            if (!valor && valor !== 0) return 'R$ 0,00';\n            return new Intl.NumberFormat('pt-BR', {\n                style: 'currency',\n                currency: 'BRL'\n            }).format(valor);\n        }\n\n        // Dados din√¢micos do Appsmith\n        const resumo = {\n            lista_produtos: \"{{mfs_list.selectedItem.lista_produtos}}\",\n            lista_marcas: \"{{mfs_list.selectedItem.lista_marcas}}\",\n            quantidade_produtos: {{mfs_list.selectedItem.quantidade_produtos}},\n            valor_total_produtos: {{mfs_list.selectedItem.valor_total_produtos}},\n            valor_medio_produtos: {{mfs_list.selectedItem.valor_medio_produtos}},\n            menor_preco_produto: {{mfs_list.selectedItem.menor_preco_produto}},\n            maior_preco_produto: {{mfs_list.selectedItem.maior_preco_produto}}\n        };\n\n        // Renderizar resumo\n        document.getElementById('lista-produtos').textContent = resumo.lista_produtos || 'N/A';\n        document.getElementById('lista-marcas').textContent = resumo.lista_marcas || 'N/A';\n        document.getElementById('qtd-produtos').textContent = resumo.quantidade_produtos || 0;\n        document.getElementById('valor-total').textContent = formatarMoeda(resumo.valor_total_produtos);\n        document.getElementById('valor-medio').textContent = formatarMoeda(resumo.valor_medio_produtos);\n        document.getElementById('menor-preco').textContent = formatarMoeda(resumo.menor_preco_produto);\n        document.getElementById('maior-preco').textContent = formatarMoeda(resumo.maior_preco_produto);\n\n        // Renderizar tabela de produtos\n        function renderizarProdutos() {\n            const tbody = document.getElementById('tbody-produtos');\n            \n            // Template din√¢mico com produtos do Appsmith\n            const htmlProdutos = `\n                {{produtos_mf.data.map(p => \n                    '<tr>' +\n                        '<td class=\"produto-id\">' + p.produto_id + '</td>' +\n                        '<td class=\"produto-nome\">' + p.nome_produto + '</td>' +\n                        '<td><span class=\"produto-marca\">' + p.marca + '</span></td>' +\n                        '<td class=\"produto-quantidade\">' + p.quantidade + '</td>' +\n                        '<td class=\"produto-preco-unitario\">R$ ' + Number(p.preco_unitario).toFixed(2).replace('.', ',') + '</td>' +\n                        '<td class=\"produto-preco-total\">R$ ' + Number(p.preco_total).toFixed(2).replace('.', ',') + '</td>' +\n                        '<td class=\"produto-status\"><span class=\"status-badge ' + (p.status_calculo === 'OK' ? 'status-ok' : 'status-divergencia') + '\">' + p.status_calculo + '</span></td>' +\n                        '<td class=\"produto-observacoes\">' + (p.observacoes_produto || '-') + '</td>' +\n                    '</tr>'\n                ).join('')}}\n            `;\n            \n            tbody.innerHTML = htmlProdutos;\n\n            // Calcular totalizadores\n            const totalProdutos = {{produtos_mf.data.length}};\n            const totalItens = {{produtos_mf.data.reduce((sum, p) => sum + p.quantidade, 0)}};\n            const valorTotal = {{produtos_mf.data.reduce((sum, p) => sum + p.preco_total, 0)}};\n\n            document.getElementById('total-produtos').textContent = totalProdutos;\n            document.getElementById('total-itens').textContent = totalItens;\n            document.getElementById('orcamento-total').textContent = formatarMoeda(valorTotal);\n        }\n\n        // Renderizar quando carregar\n        document.addEventListener('DOMContentLoaded', renderizarProdutos);\n    </script>\n</body>\n</html>\n\n",
  "topRow": 0,
  "type": "IFRAME_WIDGET",
  "version": 1,
  "widgetId": "wii3dfgus1",
  "widgetName": "Iframe7CopyCopy1"
}