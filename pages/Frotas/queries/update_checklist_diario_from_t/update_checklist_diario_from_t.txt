UPDATE compras_so.checklist_diario_motos
SET
  odometro             = {{ Number(Input_odometro?.text) }},

  nivel_combustivel    = '{{ appsmith.store.Combustivel }}',
  farol                = '{{ appsmith.store.Farol }}',
  luz_freio            = '{{ appsmith.store.LuzFreio }}',
  setas                = '{{ appsmith.store.Setas }}',
  pneu                 = '{{ appsmith.store.Pneu }}',
  pneu_traseiro        = '{{ appsmith.store.PneuTraseiro }}',
  vazamento_oleo       = '{{ appsmith.store.Vazamento }}',
  freio_dianteiro      = '{{ appsmith.store.FreioDianteiro }}',
  freio_traseiro       = '{{ appsmith.store.FreioTraseiro }}',
  manetes_pedaleiras   = '{{ appsmith.store.ManetesPedaleiras }}',
  espelhos             = '{{ appsmith.store.Espelhos }}',
  buzina               = '{{ appsmith.store.Buzina }}',
  documentacao_crlv    = '{{ appsmith.store.Documentacao }}',

  resultado_final = {{
    [
      appsmith.store.Combustivel,
      appsmith.store.Farol,
      appsmith.store.LuzFreio,
      appsmith.store.Setas,
      appsmith.store.Pneu,
      appsmith.store.PneuTraseiro,
      appsmith.store.Vazamento,
      appsmith.store.FreioDianteiro,
      appsmith.store.FreioTraseiro,
      appsmith.store.ManetesPedaleiras,
      appsmith.store.Espelhos,
      appsmith.store.Buzina,
      appsmith.store.Documentacao
    ].includes("NC")
      ? 'NAO_APTO'
      : 'APTO'
  }},

  observacoes = COALESCE(
    NULLIF('{{ observacoes_checklistCopy.text }}', ''),
    observacoes
  )

WHERE id_checklist = {{ appsmith.store.checklist_edit_id }};
