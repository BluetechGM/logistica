{
  "gitSyncId": "684accaaccd99e1ff73d47d3_03840495-87eb-4c21-a327-bee0e074528b",
  "id": "Frotas_inserir_produtos_teste",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "INSERT INTO compras_so.produtos_teste (\n    peca,\n    preco,\n    id_solicitacao,\n    marca,\n    quantidade,\n    preco_unitario,\n    id_solicitante,\n    nome_solicitante,\n    data_solicitacao,\n    observacoes,\n    valor_servico,\n    servico_peca\n)\nVALUES\n{{ \n  (appsmith.store.produtos || []).map(p => {\n    const precoUnitario = Number(String(p.preco_unitario || p.preco)\n                                  .replace(/\\./g,'')\n                                  .replace(',','.')\n                                  .replace(/[^0-9.-]+/g,\"\"));\n    const qtd = Number(p.quant || 1);\n    const total = precoUnitario * qtd;\n    const valorServico = Number(String(p.precoso || '0')\n                                  .replace(/\\./g,'')\n                                  .replace(',','.')\n                                  .replace(/[^0-9.-]+/g,\"\"));\n    return `(\n      '${(p.peca || \"\").replace(/'/g,\"''\")}', \n      ${total}, \n      '${gerar_id.gerarIdUnico.data}', \n      '${(p.marca || \"\").replace(/'/g,\"''\")}', \n      ${qtd}, \n      ${precoUnitario}, \n      '${appsmith.store.usuario_id || \"00\"}', \n      '${(appsmith.store.usuario_nome || \"usuario_nao_logado\").replace(/'/g,\"''\")}', \n      CURRENT_TIMESTAMP, \n      '${(p.obs || \"\").replace(/'/g,\"''\")}',\n      ${valorServico},\n      '${(p.servicopeca || \"\").replace(/'/g,\"''\")}'\n    )`;\n  }).join(\",\")\n}};",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": false
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "CANDIDATOS",
      "isAutoGenerated": false,
      "name": "CANDIDATOS",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "inserir_produtos_teste",
    "pageId": "Frotas",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}